# 专注学习计时器打包说明

## 打包步骤

### 方法一：使用批处理文件（推荐）

1. 双击运行 `build.bat` 文件
2. 等待打包过程完成
3. 打包完成后，可执行文件位于 `dist/专注学习计时器/专注学习计时器.exe`
4. 如果安装包创建成功，位于项目根目录的 `专注学习计时器安装程序.exe`

### 方法二：手动运行打包脚本

1. 确保已安装所有依赖：`pip install -r requirements.txt`
2. 安装打包工具：`pip install PyInstaller>=4.7 Pillow requests`
3. 运行打包脚本：`python build.py`
4. 等待打包过程完成

## 打包要求

- Python 3.8 或更高版本
- 已安装项目所需的所有依赖（见 requirements.txt）
- 如需创建安装包，需要安装 NSIS（Nullsoft Scriptable Install System）
  - NSIS 下载地址：https://nsis.sourceforge.io/Download

## 打包内容

打包后的应用程序包含以下内容：

- 主程序可执行文件
- 所有必要的依赖库
- 资源文件（图标、声音等）
- 默认配置文件

## 注意事项

1. 打包过程可能需要几分钟时间，请耐心等待
2. 如果打包过程中出现错误，请检查是否已安装所有依赖
3. 打包后的程序体积较大（约100-200MB），这是正常的，因为包含了Python解释器和所有依赖库
4. 如果没有安装NSIS，将只生成可执行文件，不会创建安装包

## 自定义打包选项

如需自定义打包选项，可以编辑以下文件：

- `build.py` - 主打包脚本
- `timer.spec` - PyInstaller配置文件

## 常见问题

### Q: 打包后的程序无法运行

可能原因：
- 缺少必要的DLL文件
- 资源文件路径错误

解决方法：
- 确保已安装所有依赖
- 检查资源文件是否存在
- 尝试在控制台模式下打包（修改spec文件中的`console=True`）以查看错误信息

### Q: 安装包创建失败

可能原因：
- 未安装NSIS
- NSIS路径不正确

解决方法：
- 安装NSIS并确保其添加到系统PATH中
- 或手动使用NSIS编译installer.nsi文件